{"version":3,"sources":["../../src/models/State.js"],"names":["initializeRequest","phone_no","oracle_number","session_hash","query","db","err","res","console","log","updateRecord","field","value"],"mappings":";;;;;;;AACA;;;;AAEO,IAAMA,iBAAiB,GAAG,CAACC,QAAD,EAAWC,aAAX,EAA0BC,YAA1B,KAA2C;AAExE,MAAIC,KAAK,GAAG,mFAAmFH,QAAnF,GAA8F,MAA9F,GAAuGC,aAAvG,GAAuH,MAAvH,GAA8HC,YAA9H,GAA2I,IAAvJ;;AAEAE,cAAGD,KAAH,CAASA,KAAT,EAAgB,CAACE,GAAD,EAAMC,GAAN,KAAc;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY;AAACH,MAAAA,GAAD;AAAMC,MAAAA;AAAN,KAAZ,EAD0B,CAE1B;AAEA;;AAEA,QAAGD,GAAH,EAAQ;AACJE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,aAAO,KAAP;AACH;;AAAA;AAED,WAAO,IAAP;AACH,GAZD;AAaH,CAjBM;;;;AAmBA,IAAMI,YAAY,GAAG,CAACT,QAAD,EAAWU,KAAX,EAAkBC,KAAlB,EAAyBT,YAAzB,KAA0C;AAElE,MAAIC,KAAK,GAAG,kCAAiCO,KAAjC,GAAwC,OAAxC,GAAiDC,KAAjD,GAAuD,8CAAvD,GAAwGX,QAAxG,GAAmH,wBAAnH,GAA8IE,YAA9I,GAA6J,GAAzK;;AAEAE,cAAGD,KAAH,CAASA,KAAT,EAAgB,CAACE,GAAD,EAAMC,GAAN,KAAc;AAC1B;AACA,QAAGD,GAAH,EAAQ;AACJE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,aAAO,KAAP;AACH;;AAAA;AAED,WAAO,IAAP;AACH,GARD;AASH,CAbM","sourcesContent":["\nimport db from '../db';\n\nexport const initializeRequest = (phone_no, oracle_number, session_hash) => {\n\n    let query = \"INSERT into `state_requests` (phone_no, oracle_number, session_hash) VALUES ('\" + phone_no + \"', '\" + oracle_number + \"', '\"+session_hash+\"')\";\n\n    db.query(query, (err, res) => {\n        console.log({err, res})\n        // if(err) res.status(500).send(err);\n\n        // res.status(200);\n\n        if(err) {\n            console.log(err);\n            return false;\n        };\n\n        return true;        \n    })    \n}\n\nexport const updateRecord = (phone_no, field, value, session_hash) => {\n\n    let query = \"UPDATE `state_requests` SET `\"+ field +\"` = '\"+ value+\"', `updated_at` = NOW() WHERE `phone_no` = '\" + phone_no + \"' AND session_hash = '\" + session_hash + \"'\";\n\n    db.query(query, (err, res) => {\n        // console.log({err, res})\n        if(err) {\n            console.log(err);\n            return false;\n        };\n\n        return true;\n    })    \n}\n\n"],"file":"State.js"}